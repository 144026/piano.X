\hypertarget{sound_8h}{}\doxysection{include/sound.h File Reference}
\label{sound_8h}\index{include/sound.h@{include/sound.h}}


声音模块  


{\ttfamily \#include \char`\"{}base.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}dac.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}interrupt.\+h\char`\"{}}\newline
Include dependency graph for sound.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{sound_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sound_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{sound_8h_a7c5c981809eea62d992b4edab13bd019}{sndlv\+\_\+t}} \{ \mbox{\hyperlink{sound_8h_a7c5c981809eea62d992b4edab13bd019a7a352a3dd2accc1dd65a4538c3754ee8}{Low}}, 
\mbox{\hyperlink{sound_8h_a7c5c981809eea62d992b4edab13bd019a24c57acd029e3f96fede49402ea01e6f}{High}}
 \}
\begin{DoxyCompactList}\small\item\em 音频版本 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{sound_8h_a58508e0ec696de02ea05b4ce2f9bad5f}\label{sound_8h_a58508e0ec696de02ea05b4ce2f9bad5f}} 
void \mbox{\hyperlink{sound_8h_a58508e0ec696de02ea05b4ce2f9bad5f}{T\+M\+R2\+Init}} (void)
\begin{DoxyCompactList}\small\item\em timer2初始化函数 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8h_a7a70c038f2a73a958601489c0253433a}\label{sound_8h_a7a70c038f2a73a958601489c0253433a}} 
void \mbox{\hyperlink{sound_8h_a7a70c038f2a73a958601489c0253433a}{T\+M\+R2\+Func}} (void)
\begin{DoxyCompactList}\small\item\em 每次timer2中断后执行的函数，负责执行\+D\+A\+C数据传输和timer2重置 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8h_ac0e862ab6a16ba464feec9f852f071ab}\label{sound_8h_ac0e862ab6a16ba464feec9f852f071ab}} 
void \mbox{\hyperlink{sound_8h_ac0e862ab6a16ba464feec9f852f071ab}{Sound\+Init}} (void)
\begin{DoxyCompactList}\small\item\em 声音模块的初始化函数，需要初始化\+D\+A芯片以及timer2 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8h_a4c9277729c632d7d026f4e4958278e47}\label{sound_8h_a4c9277729c632d7d026f4e4958278e47}} 
void \mbox{\hyperlink{sound_8h_a4c9277729c632d7d026f4e4958278e47}{Set\+Sound\+Level}} (void)
\begin{DoxyCompactList}\small\item\em {\ttfamily sound\+\_\+level}的切换函数，用于切换{\ttfamily sound\+\_\+level}的0、1状态 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8h_a0608ca44092f7360759efd09ba0b1229}\label{sound_8h_a0608ca44092f7360759efd09ba0b1229}} 
uint8\+\_\+t \mbox{\hyperlink{sound_8h_a0608ca44092f7360759efd09ba0b1229}{Get\+Sound\+Level}} (void)
\begin{DoxyCompactList}\small\item\em {\ttfamily sound\+\_\+level}的获得函数，用于在其它模块可以得到{\ttfamily sound\+\_\+level}的值 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sound_8h_a2bb7d6aedc55ae2b7e40b07e27ae210a}{Sound\+Rhythm}} (uint8\+\_\+t rhythm)
\begin{DoxyCompactList}\small\item\em 声音模块的发声函数，根据输入的{\ttfamily rhythm}发出对应的声音 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sound_8h_a2fbecc60f99167c4cbe5a38ee39d65af}{Sound\+Fini}} (void)
\begin{DoxyCompactList}\small\item\em 声音模块的发声终止函数，关闭扬声器发声 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const uint8\+\_\+t \mbox{\hyperlink{sound_8h_a55dfdf41d0c635da52421441f94f5598}{rhythm\+\_\+list}} \mbox{[}3\mbox{]}\mbox{[}7\mbox{]}
\begin{DoxyCompactList}\small\item\em 音频存储列表，用于存储不同的音频所需的timer2值 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8h_a3ee6a09cc2c6453da8783761925775bd}\label{sound_8h_a3ee6a09cc2c6453da8783761925775bd}} 
static \mbox{\hyperlink{sound_8h_a7c5c981809eea62d992b4edab13bd019}{sndlv\+\_\+t}} \mbox{\hyperlink{sound_8h_a3ee6a09cc2c6453da8783761925775bd}{sound\+\_\+level}} = \mbox{\hyperlink{sound_8h_a7c5c981809eea62d992b4edab13bd019a7a352a3dd2accc1dd65a4538c3754ee8}{Low}}
\begin{DoxyCompactList}\small\item\em 音频切换标志位，0、1切换 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
声音模块 

\begin{DoxyCopyright}{Copyright}
Copyright(c) 2021 Net\+Sec ~\newline
All rights reserved.
\end{DoxyCopyright}
\begin{DoxyDate}{Date}
2021-\/6-\/27 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
卢玮 
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
基本的声音模块封装
\end{DoxyNote}
\begin{DoxyDate}{Date}
2021-\/6-\/27 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
卢玮 
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
将声音的持续时间去掉，增加\+Sound\+Fini来控制声音的开关
\end{DoxyNote}
\begin{DoxyDate}{Date}
2021-\/6-\/29 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
卢玮 
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
增加sound\+\_\+level和\+Set\+Sound\+Level函数，用于切换音频范围
\end{DoxyNote}
\begin{DoxyDate}{Date}
2021-\/6-\/29 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
董瑞华 
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
增加sndlv\+\_\+t枚举类型，使sound\+\_\+level更可读
\end{DoxyNote}
\begin{DoxyDate}{Date}
2021-\/6-\/29 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
卢玮 
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
增加\+Get\+Sound\+Level函数，用于在模块外获得音阶等级
\end{DoxyNote}
\begin{DoxyDate}{Date}
2021-\/6-\/30 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
卢玮 
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
将发声的switch case更改为表驱动
\end{DoxyNote}
\begin{DoxyDate}{Date}
2021-\/7-\/3 
\end{DoxyDate}
\begin{DoxyAuthor}{Author}
董瑞华 
\end{DoxyAuthor}
\begin{DoxyNote}{Note}
注释变为\+Doxygen风格 
\end{DoxyNote}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{sound_8h_a7c5c981809eea62d992b4edab13bd019}\label{sound_8h_a7c5c981809eea62d992b4edab13bd019}} 
\index{sound.h@{sound.h}!sndlv\_t@{sndlv\_t}}
\index{sndlv\_t@{sndlv\_t}!sound.h@{sound.h}}
\doxysubsubsection{\texorpdfstring{sndlv\_t}{sndlv\_t}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{sound_8h_a7c5c981809eea62d992b4edab13bd019}{sndlv\+\_\+t}}}



音频版本 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Low@{Low}!sound.h@{sound.h}}\index{sound.h@{sound.h}!Low@{Low}}}\mbox{\Hypertarget{sound_8h_a7c5c981809eea62d992b4edab13bd019a7a352a3dd2accc1dd65a4538c3754ee8}\label{sound_8h_a7c5c981809eea62d992b4edab13bd019a7a352a3dd2accc1dd65a4538c3754ee8}} 
Low&低音域 \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{High@{High}!sound.h@{sound.h}}\index{sound.h@{sound.h}!High@{High}}}\mbox{\Hypertarget{sound_8h_a7c5c981809eea62d992b4edab13bd019a24c57acd029e3f96fede49402ea01e6f}\label{sound_8h_a7c5c981809eea62d992b4edab13bd019a24c57acd029e3f96fede49402ea01e6f}} 
High&高音域 \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sound_8h_a2fbecc60f99167c4cbe5a38ee39d65af}\label{sound_8h_a2fbecc60f99167c4cbe5a38ee39d65af}} 
\index{sound.h@{sound.h}!SoundFini@{SoundFini}}
\index{SoundFini@{SoundFini}!sound.h@{sound.h}}
\doxysubsubsection{\texorpdfstring{SoundFini()}{SoundFini()}}
{\footnotesize\ttfamily void Sound\+Fini (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



声音模块的发声终止函数，关闭扬声器发声 

\begin{DoxyNote}{Note}
注意该函数只是关闭扬声器发声，下次想继续发声直接使用 {\ttfamily void \mbox{\hyperlink{sound_8h_a2bb7d6aedc55ae2b7e40b07e27ae210a}{Sound\+Rhythm(uint8\+\_\+t rhythm)}}} 即可，不需要重新调用 {\ttfamily void \mbox{\hyperlink{sound_8h_ac0e862ab6a16ba464feec9f852f071ab}{Sound\+Init(void)}}} 
\end{DoxyNote}
\mbox{\Hypertarget{sound_8h_a2bb7d6aedc55ae2b7e40b07e27ae210a}\label{sound_8h_a2bb7d6aedc55ae2b7e40b07e27ae210a}} 
\index{sound.h@{sound.h}!SoundRhythm@{SoundRhythm}}
\index{SoundRhythm@{SoundRhythm}!sound.h@{sound.h}}
\doxysubsubsection{\texorpdfstring{SoundRhythm()}{SoundRhythm()}}
{\footnotesize\ttfamily void Sound\+Rhythm (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{rhythm }\end{DoxyParamCaption})}



声音模块的发声函数，根据输入的{\ttfamily rhythm}发出对应的声音 


\begin{DoxyParams}{Parameters}
{\em rhythm} & 输入的音频标志，可输入1-\/14，对应两个音阶 \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{sound_8h_a55dfdf41d0c635da52421441f94f5598}\label{sound_8h_a55dfdf41d0c635da52421441f94f5598}} 
\index{sound.h@{sound.h}!rhythm\_list@{rhythm\_list}}
\index{rhythm\_list@{rhythm\_list}!sound.h@{sound.h}}
\doxysubsubsection{\texorpdfstring{rhythm\_list}{rhythm\_list}}
{\footnotesize\ttfamily const uint8\+\_\+t rhythm\+\_\+list\mbox{[}3\mbox{]}\mbox{[}7\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= }
\DoxyCodeLine{    \{\{191, 171, 152, 143, 128, 114, 101\},}
\DoxyCodeLine{     \{ 96,  85,  76,  72,  64,  57,  51\},}
\DoxyCodeLine{     \{ 48,  43,  38,  36,  32,  29,  26\}\}}

\end{DoxyCode}


音频存储列表，用于存储不同的音频所需的timer2值 

