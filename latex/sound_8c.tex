\hypertarget{sound_8c}{}\doxysection{src/sound.c File Reference}
\label{sound_8c}\index{src/sound.c@{src/sound.c}}


声音模块  


{\ttfamily \#include \char`\"{}sound.\+h\char`\"{}}\newline
Include dependency graph for sound.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=266pt]{sound_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{sound_8c_a58508e0ec696de02ea05b4ce2f9bad5f}\label{sound_8c_a58508e0ec696de02ea05b4ce2f9bad5f}} 
void \mbox{\hyperlink{sound_8c_a58508e0ec696de02ea05b4ce2f9bad5f}{T\+M\+R2\+Init}} (void)
\begin{DoxyCompactList}\small\item\em timer2初始化函数 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8c_a7a70c038f2a73a958601489c0253433a}\label{sound_8c_a7a70c038f2a73a958601489c0253433a}} 
void \mbox{\hyperlink{sound_8c_a7a70c038f2a73a958601489c0253433a}{T\+M\+R2\+Func}} (void)
\begin{DoxyCompactList}\small\item\em 每次timer2中断后执行的函数，负责执行\+D\+A\+C数据传输和timer2重置 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8c_ac0e862ab6a16ba464feec9f852f071ab}\label{sound_8c_ac0e862ab6a16ba464feec9f852f071ab}} 
void \mbox{\hyperlink{sound_8c_ac0e862ab6a16ba464feec9f852f071ab}{Sound\+Init}} (void)
\begin{DoxyCompactList}\small\item\em 声音模块的初始化函数，需要初始化\+D\+A芯片以及timer2 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8c_a4c9277729c632d7d026f4e4958278e47}\label{sound_8c_a4c9277729c632d7d026f4e4958278e47}} 
void \mbox{\hyperlink{sound_8c_a4c9277729c632d7d026f4e4958278e47}{Set\+Sound\+Level}} (void)
\begin{DoxyCompactList}\small\item\em {\ttfamily sound\+\_\+level}的切换函数，用于切换{\ttfamily sound\+\_\+level}的0、1状态 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8c_a0608ca44092f7360759efd09ba0b1229}\label{sound_8c_a0608ca44092f7360759efd09ba0b1229}} 
uint8\+\_\+t \mbox{\hyperlink{sound_8c_a0608ca44092f7360759efd09ba0b1229}{Get\+Sound\+Level}} (void)
\begin{DoxyCompactList}\small\item\em {\ttfamily sound\+\_\+level}的获得函数，用于在其它模块可以得到{\ttfamily sound\+\_\+level}的值 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sound_8c_a2bb7d6aedc55ae2b7e40b07e27ae210a}{Sound\+Rhythm}} (uint8\+\_\+t rhythm)
\begin{DoxyCompactList}\small\item\em 声音模块的发声函数，根据输入的{\ttfamily rhythm}发出对应的声音 \end{DoxyCompactList}\item 
void \mbox{\hyperlink{sound_8c_a2fbecc60f99167c4cbe5a38ee39d65af}{Sound\+Fini}} (void)
\begin{DoxyCompactList}\small\item\em 声音模块的发声终止函数，关闭扬声器发声 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
const uint16\+\_\+t \mbox{\hyperlink{sound_8c_ae1c63547d9c8bf279e9113efeedcbab8}{sin}} \mbox{[}20\mbox{]}
\begin{DoxyCompactList}\small\item\em 正弦函数表，用于构造正弦波 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{sound_8c_aae5a12e607d0f782506d9e6ec6179c64}\label{sound_8c_aae5a12e607d0f782506d9e6ec6179c64}} 
static uint8\+\_\+t \mbox{\hyperlink{sound_8c_aae5a12e607d0f782506d9e6ec6179c64}{index}} = 0
\begin{DoxyCompactList}\small\item\em 当前所在正弦函数值索引 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
声音模块 

\begin{DoxyCopyright}{Copyright}
Copyright(c) 2021 Net\+Sec ~\newline
All rights reserved.
\end{DoxyCopyright}
\begin{DoxyAuthor}{Author}
卢玮 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{sound_8c_a2fbecc60f99167c4cbe5a38ee39d65af}\label{sound_8c_a2fbecc60f99167c4cbe5a38ee39d65af}} 
\index{sound.c@{sound.c}!SoundFini@{SoundFini}}
\index{SoundFini@{SoundFini}!sound.c@{sound.c}}
\doxysubsubsection{\texorpdfstring{SoundFini()}{SoundFini()}}
{\footnotesize\ttfamily void Sound\+Fini (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



声音模块的发声终止函数，关闭扬声器发声 

\begin{DoxyNote}{Note}
注意该函数只是关闭扬声器发声，下次想继续发声直接使用 {\ttfamily void \mbox{\hyperlink{sound_8h_a2bb7d6aedc55ae2b7e40b07e27ae210a}{Sound\+Rhythm(uint8\+\_\+t rhythm)}}} 即可，不需要重新调用 {\ttfamily void \mbox{\hyperlink{sound_8h_ac0e862ab6a16ba464feec9f852f071ab}{Sound\+Init(void)}}} 
\end{DoxyNote}
\mbox{\Hypertarget{sound_8c_a2bb7d6aedc55ae2b7e40b07e27ae210a}\label{sound_8c_a2bb7d6aedc55ae2b7e40b07e27ae210a}} 
\index{sound.c@{sound.c}!SoundRhythm@{SoundRhythm}}
\index{SoundRhythm@{SoundRhythm}!sound.c@{sound.c}}
\doxysubsubsection{\texorpdfstring{SoundRhythm()}{SoundRhythm()}}
{\footnotesize\ttfamily void Sound\+Rhythm (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{rhythm }\end{DoxyParamCaption})}



声音模块的发声函数，根据输入的{\ttfamily rhythm}发出对应的声音 


\begin{DoxyParams}{Parameters}
{\em rhythm} & 输入的音频标志，可输入1-\/14，对应两个音阶 \\
\hline
\end{DoxyParams}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{sound_8c_ae1c63547d9c8bf279e9113efeedcbab8}\label{sound_8c_ae1c63547d9c8bf279e9113efeedcbab8}} 
\index{sound.c@{sound.c}!sin@{sin}}
\index{sin@{sin}!sound.c@{sound.c}}
\doxysubsubsection{\texorpdfstring{sin}{sin}}
{\footnotesize\ttfamily const uint16\+\_\+t sin\mbox{[}20\mbox{]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{513, 517, 520, 523, 524,}
\DoxyCodeLine{                    524, 523, 521, 518, 514,}
\DoxyCodeLine{                    510, 506, 503, 500, 499,}
\DoxyCodeLine{                    499, 500, 502, 505, 509\}}

\end{DoxyCode}


正弦函数表，用于构造正弦波 

